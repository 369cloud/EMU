/**
 * Released on: 2016-4-18
 * =====================================================
 * EMU v1.0.1 (http://docs.369cloud.com/engine/jssdk/JS-SDK)
 * =====================================================
 */
var emu=function(e){for(var t={version:"1.0.1"},n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),a={},i=a.toString,o="Boolean Number String Function Array Date RegExp Object Error".split(" "),d=0;d<o.length;d++)name=o[d],a["[object "+name+"]"]=name.toLowerCase();t.uuid=function(e,t){var n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=[];if(t=t||r.length,e)for(n=0;e>n;n++)a[n]=r[0|Math.random()*t];else{var i;for(a[8]=a[13]=a[18]=a[23]="-",a[14]="4",n=0;36>n;n++)a[n]||(i=0|16*Math.random(),a[n]=r[19==n?3&i|8:i])}return a.join("")};var s=function(e){return null==e?String(e):a[i.call(e)]||"object"},l=function(e){return null!=e&&e==e.window},p=function(e){return"object"==s(e)},c=function(e){return"number"==typeof e.length},u=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?n[2]:null};if(t.body=document.body,t.bWidth=t.body.offsetWidth,t.Zindex=1e4,t.rootName="root",t.root=u("pageId"),t.root){var y=t.root.lastIndexOf("component/");-1==y&&(alert("请将该页面放入component文件下对应工程目录！"),reutrn);var f=t.root.substr(y).indexOf("/"),h=t.root.substr(y+f+1),m=h.indexOf("/"),g=t.root.substr(0,y+f+1),w=h.substr(0,m+1);t.rootUrl=h.substr(m+1),t.baseUrl=g+w}else t.rootUrl="native.html",t.baseUrl="";t.windows=[],t.winMap={},t.type=s,t.parseUrl=function(e){return-1!=e.indexOf("///")&&(e=e.replace("///","/").substr(t.baseUrl.length)),e=t.baseUrl+e},t.isPlainObject=function(e){return p(e)&&!l(e)&&Object.getPrototypeOf(e)==Object.prototype},t.isFunction=function(e){return"function"==s(e)},t.isString=function(e){return"string"==s(e)},t.isArray=Array.isArray||function(e){return e instanceof Array},t.each=function(e,t){var n,r;if(c(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},t.strEncode=function(e){var t,r,a,i,o,d;for(a=e.length,r=0,t="";a>r;){if(i=255&e.charCodeAt(r++),r==a){t+=n.charAt(i>>2),t+=n.charAt((3&i)<<4);break}if(o=e.charCodeAt(r++),r==a){t+=n.charAt(i>>2),t+=n.charAt((3&i)<<4|(240&o)>>4),t+=n.charAt((15&o)<<2);break}d=e.charCodeAt(r++),t+=n.charAt(i>>2),t+=n.charAt((3&i)<<4|(240&o)>>4),t+=n.charAt((15&o)<<2|(192&d)>>6),t+=n.charAt(63&d)}return t},t.strDecode=function(e){var t,n,a,i,o,d,s;for(d=e.length,o=0,s="";d>o;){do t=r[255&e.charCodeAt(o++)];while(d>o&&-1==t);if(-1==t)break;do n=r[255&e.charCodeAt(o++)];while(d>o&&-1==n);if(-1==n)break;s+=String.fromCharCode(t<<2|(48&n)>>4);do{if(a=255&e.charCodeAt(o++),61==a)return s;a=r[a]}while(d>o&&-1==a);if(-1==a)break;s+=String.fromCharCode((15&n)<<4|(60&a)>>2);do{if(i=255&e.charCodeAt(o++),61==i)return s;i=r[i]}while(d>o&&-1==i);if(-1==i)break;s+=String.fromCharCode((3&a)<<6|i)}return s},t.iframeload=function(e){if(!this.readyState||"complete"==this.readyState){var t={pageId:e},n={type:"init",data:t};n=JSON.stringify(n),this.contentWindow.postMessage(n,"*")}};var v=function(e){var n=e.indexOf("(");if(-1!=n){var r=e.lastIndexOf(")"),a=e.substring(0,n);if(t[a]){var i=e.substring(n+1,r).replace(/','/g,"|").replace(/'/g,""),o=i.split("|");t[a].apply(t,o)}}else{var d=e.split(","),a=d[0],o=d.slice(1).join(",").split("|");t[a].apply(t,o)}};return window.addEventListener("message",function(e){v(e.data)},!1),setTimeout(function(){v("openWindow,"+t.rootName+"|"+t.rootUrl+"|0|true")},1),t}(this);window.emu=emu,void 0===window.E&&(window.E=emu),function(e,t){function n(t){for(var n=e.windows.length,r=e.windows.splice(t,n-t),a=0;a<r.length;a++){var i=r[a];if(e.slidePageId==i)return;var o=document.getElementById(i);o&&(o.className="page-from-center-to-right",o.addEventListener("webkitAnimationEnd",function(){i=this.id;var t=e.winMap[i];if(t){var n=t.pops;if(n)for(var r=0;r<n.length;r++){var a=n[r],o=document.getElementById(a);o&&o.parentNode.removeChild(o)}delete e.winMap[i]}this.parentNode&&this.parentNode.removeChild(this)},!1))}}e.openWindow=function(){var t=arguments[0],n=arguments[1],r=arguments[2],a=arguments[3],i=e.strEncode(t),o=document.getElementById(i);if(o)return void(o.style.zIndex=++e.Zindex);e.winMap[i]={},e.winMap[i].pops=[],e.windows.push(i);var d=document.createElement("DIV");d.style.borderWidth="0px",d.style.position="absolute",d.style.left="0px",d.style.top="0px",d.style.width="100%",d.style.height="100%",d.style.zIndex=++e.Zindex,d.id=i;var s=document.createElement("iframe");s.style.position="relative",s.style.borderWidth="0px",s.style.left="0px",s.style.top="0px",s.style.border="0px",s.style.padding="0px",s.style.width="100%",s.style.height="100%",s.id=i+"iframe",d.appendChild(s),1==r?(s.onload=s.onreadystatechange=function(){if(!this.readyState||"complete"==this.readyState){var e={type:"htmlMsg",data:n};e=JSON.stringify(e),this.contentWindow.postMessage(e,"*")}},s.src="blank.html?pageId="+i):(s.onload=s.onreadystatechange=function(){e.iframeload.call(s,i)},s.src=e.parseUrl(n)+"?pageId="+i),"true"!=a&&(d.className="page-from-right-to-center",d.addEventListener("webkitAnimationEnd",function(){d.className="",d.style.width="99.99%",setTimeout(function(){d.style.width="100%"},0)},!1)),e.body.appendChild(d)},e.closeWindow=function(t,r){"undefined"!=typeof t&&"undefined"!=t&&(r=e.strEncode(t));var a=e.windows.indexOf(r);a>=0?n(a):e.closePopover(t,r)},e.backToWindow=function(t){if(-1!=e.rootUrl.indexOf(t)||t==e.rootName)var r=e.strEncode(e.rootName);else r=e.strEncode(t);var a=e.windows.indexOf(r);a>=0&&(a+=1,n(a))},e.openPopover=function(t,n,r,a){var i=e.strEncode(t),o=document.getElementById(i);if(o){var d=o.parentName;if(d==a)return void(o.style.zIndex=++e.Zindex)}r=JSON.parse(r);var s=(r.x||0)+"px",l=(r.y||0)+"px",p="100%";r.width?p=r.width+"px":0==r.width&&r.x&&(p=e.body.scrollWidth-r.x+"px");var c="100%";r.height?c=r.height+"px":0==r.height&&r.y&&(c=e.body.scrollHeight-r.y+"px");var u=function(t){var r=document.createElement("DIV");r.style.borderWidth="0px",r.style.position="absolute",r.style.left=s,r.style.top=l,r.style.width=p,r.style.height=c,r.style.zIndex=++e.Zindex,r.id=i,r.parentName=t;var a=document.createElement("iframe");return a.style.position="absolute",a.style.borderWidth="0px",a.style.left="0px",a.style.top="0px",a.style.border="0px",a.style.padding="0px",a.style.width="100%",a.style.height="100%",a.id=i+"iframe",r.appendChild(a),a.onload=a.onreadystatechange=function(){e.iframeload.call(a,i)},a.src=e.parseUrl(n)+"?pageId="+i,r};if(e.winMap[a])e.winMap[a].pops.push(i),document.getElementById(a).appendChild(u(a));else{var y=document.getElementById(a),f=y.parentName;e.winMap[f]&&e.winMap[f].pops.push(i),document.getElementById(f).appendChild(u(f))}},e.closePopover=function(t,n){"undefined"!=typeof t&&"undefined"!=t&&(n=e.strEncode(t));var r=document.getElementById(n);r&&r.parentNode.removeChild(r)},e.setSlideLayout=function(t){t=JSON.parse(t);var n=t.type,r=200,a="",i="";"right"==n?(a=t.rightPane.name,i=t.rightPane.url,r=t.rightEdge):(a=t.leftPane.name,i=t.leftPane.url,r=t.leftEdge);var o=e.strEncode(a);o="drawer"+o;var d={id:o,edge:r};"right"==n?e.winMap.rightPane=d:e.winMap.leftPane=d;var s=document.getElementById(o);if(s){delete e.winMap[o],s.parentNode.removeChild(s);var l=e.windows.indexOf(o);e.windows.splice(l,l)}e.slidePageId=o,e.winMap[o]={},e.winMap[o].pops=[],e.windows.push(o);var p=document.createElement("DIV");p.style.borderWidth="0px",p.style.position="absolute",p.style.left="0px",p.style.top="0px",p.style.width=r+"px",p.style.height="100%",p.id=o;var c=document.createElement("iframe");c.style.position="absolute",c.style.borderWidth="0px",c.style.left="0px",c.style.top="0px",c.style.border="0px",c.style.padding="0px",c.style.width="100%",c.style.height="100%",p.appendChild(c),c.onload=c.onreadystatechange=function(){e.iframeload.call(c,o)},c.src=e.parseUrl(i)+"?pageId="+o,"right"==n?p.style.cssText+="-webkit-transition-duration:500ms;-webkit-transform: translate("+(e.bWidth+r)+"px, 0) translateZ(0);":p.style.cssText+="-webkit-transition-duration:500ms;-webkit-transform: translate("+-r+"px, 0) translateZ(0);",e.body.appendChild(p)},e.openSlidePane=function(t){var n=document.getElementById("drawerMask");n?n.style.display="block":(n=document.createElement("DIV"),n.style.borderWidth="0px",n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.style.width="100%",n.style.height="100%",n.style.background="#888",n.style.opacity="0.5",n.style.zIndex=++e.Zindex,n.id="drawerMask",e.body.appendChild(n),n.addEventListener("click",function(){e.closeSlidePane()},!1)),t=JSON.parse(t);var r=t.type,a="",i=200;"right"==r?(a=e.winMap.rightPane.id,i=e.winMap.rightPane.edge):(a=e.winMap.leftPane.id,i=e.winMap.leftPane.edge);var o=document.getElementById(a);o.style.zIndex=++e.Zindex,"right"==r?o.style.cssText+="-webkit-transition-duration:500ms;-webkit-transform: translate("+(e.bWidth-i)+"px, 0) translateZ(0);":o.style.cssText+="-webkit-transition-duration:500ms;-webkit-transform: translate(0, 0) translateZ(0);"},e.closeSlidePane=function(){if(e.winMap.rightPane){var t=e.winMap.rightPane.id,n=e.winMap.rightPane.edge,r=document.getElementById(t);r.style.cssText+="-webkit-transition-duration:500ms;-webkit-transform: translate("+(e.bWidth+n)+"px, 0) translateZ(0);"}if(e.winMap.leftPane){var t=e.winMap.leftPane.id,n=e.winMap.leftPane.edge,r=document.getElementById(t);r.style.cssText+="-webkit-transition-duration:500ms;-webkit-transform: translate("+-n+"px, 0) translateZ(0);"}var a=document.getElementById("drawerMask");a&&(a.style.display="none",a.parentNode.removeChild(a))}}(emu,this),function(e,t){e.sendRequest=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){var e={type:"ajax",data:r.responseText,token:n};e=JSON.stringify(e),document.getElementById(t).firstChild.contentWindow.postMessage(e,"*")}},r.open("POST","http://127.0.0.1:30007",!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8;"),r.send(e)}}(emu,this),function(e,t){e.evaluateScript=function(t,n,r,a){""!=t&&(a=e.strEncode(t));var i=document.getElementById(a);if(i){i.parentName&&(i=document.getElementById(i.parentName));var o={type:"evaluateScript",data:r};if(o=JSON.stringify(o),""!=n){var d=e.strEncode(n),s=i.querySelector("#"+d);s&&s.querySelector("#"+d+"iframe").contentWindow.postMessage(o,"*")}else i.querySelector("#"+a+"iframe").contentWindow.postMessage(o,"*")}}}(emu,this),function(e,t){e.tabMarkShow=function(t,n,r){var a=e.strEncode("tabMark.html"+r),i=document.getElementById(a);if(i)return void(i.style.display="block");var o=r,i=document.getElementById(r);n=JSON.parse(n),i&&i.parentName&&(o=i.parentName);var d="tabMark.html",s=JSON.parse(t);s.baseUrl=e.baseUrl,s.pageId=a,s.parentName=o,s.viewHeight=n.height;var l=(s.dataSource[0],document.createElement("DIV"));l.style.borderWidth="0px",l.style.position="absolute",l.style.left=n.x+"px",l.style.top=n.y+"px",l.style.width=n.width+"px",l.style.height=n.height+"px",l.style.zIndex=++e.Zindex,l.id=a;var p=document.createElement("iframe");p.style.position="absolute",p.style.borderWidth="0px",p.style.left="0px",p.style.top="0px",p.style.border="0px",p.style.padding="0px",p.style.width="100%",p.style.height="100%",p.id=a+"iframe",l.appendChild(p),p.onload=p.onreadystatechange=function(){var e={type:"init",data:s};e=JSON.stringify(e),p.contentWindow.postMessage(e,"*")},p.src=d+"?pageId="+a,i?i.appendChild(l):e.body.appendChild(l)},e.tabMarkAppend=function(t,n,r,a,i,o){var d=e.strEncode(t),s=document.getElementById(d);if(s&&s.parentName==a)return void(s.style.zIndex=++e.Zindex);e.winMap[a].pops.push(d);var l=document.getElementById(r),p=document.createElement("DIV");p.style.borderWidth="0px",p.style.position="absolute",p.style.left="0px",p.style.top=i+"px",p.style.width="100%",p.style.height=o+"px",p.style.zIndex=++e.Zindex,p.id=d,p.parentName=a;var c=document.createElement("iframe");c.style.position="absolute",c.style.borderWidth="0px",c.style.left="0px",c.style.top="0px",c.style.border="0px",c.style.padding="0px",c.style.width="100%",c.style.height="100%",c.id=d+"iframe",p.appendChild(c),c.onload=c.onreadystatechange=function(){e.iframeload.call(c,d)},c.src=n+"?pageId="+d,l.appendChild(p)},e.tabMarkHide=function(t){var n=e.strEncode("tabMark.html"+t),r=document.getElementById(n);r&&(r.style.display="none")},e.tabMarkRemove=function(t){var n=e.strEncode("tabMark.html"+t),r=document.getElementById(n);r&&r.parentNode.removeChild(r)},e.tabMarkShowIndex=function(t,n){var r=e.strEncode("tabMark.html"+t),a=document.getElementById(r);if(a){var i={type:"executeF",data:"showIndex|"+n};i=JSON.stringify(i),setTimeout(function(){a.querySelector("#"+r+"iframe").contentWindow.postMessage(i,"*")},1e3)}}}(emu,this),function(e,t){var n={};e.addEvent=function(e,t){n[t]||(n[t]={}),n[t].windows||(n[t].windows=[]),n[t].windows.push(e)},e.removeEvent=function(e,t){if(n[t]&&n[t].windows){var r=n[t].windows.indexOf(e);n[t].windows.splice(r,1)}},e.sendEvent=function(t,r){var a=n[t];if(a){var i=a.windows;i&&e.each(i,function(e,n){var a=document.getElementById(n);if(a){a.parentName&&(a=document.getElementById(a.parentName));var i={type:"event",eventName:t,params:r};i=JSON.stringify(i),a.querySelector("#"+n+"iframe").contentWindow.postMessage(i,"*")}})}}}(emu,this);